<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" xmlns:th="http://www.thymeleaf.org">
    <title>Final Preparation</title>
    <link rel="stylesheet" href="/webjars/bootstrap/5.1.3/css/bootstrap.min.css">
    <style>
        .pre-scrollable {
            height: 500px;
            overflow-y: scroll;
        }
        h1 {
            text-align: center;
        }
    </style>
</head>
<body>
<h1>Project Table for Customer Record</h1>
<div class="container mt-2 pre-scrollable">
    <div class="card">
        <div class="card-body">
            <div th:if="${exists}" class="alert alert-danger" role="alert">
                The record already exists.
            </div>
            <div th:if="${saving != null}">
                <h2>Project table of customer number: <span th:text="${saving.custno}"></span></h2>
                <h3>Name: <span th:text="${saving.custname}"></span></h3>
            </div>
            <table class="table">
                <thead>
                <tr>
                    <th>Year</th>
                    <th>Starting Amount</th>
                    <th>Interest</th>
                    <th>Ending Balance</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="yc : ${yearlyCalculations}">
                    <td th:text="${yc.year}"></td>
                    <td th:text="'$' + ${#numbers.formatDecimal(yc.startingAmount, 1, 'COMMA', 2, 'POINT')}"></td>
                    <td th:text="'$' + ${#numbers.formatDecimal(yc.interest, 1, 'COMMA', 2, 'POINT')}"></td>
                    <td th:text="'$' + ${#numbers.formatDecimal(yc.endingBalance, 1, 'COMMA', 2, 'POINT')}"></td>
                </tr>
                </tbody>
            </table>
            <div class="mt-3">
                <a class="btn btn-dark" th:href="@{/index}">Submit</a>
            </div>
        </div>
    </div>
</div>
</body>
</html>
